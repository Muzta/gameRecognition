<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href='/static/main.css' />

 
    </head>
    <body>
        <h1>Predicción de juegos</h1>
        <p>Sube una imagen de tu juego y el sistema lo predecirá. 
            <br>Disponibles: 
                <em>Deathloop; It takes two; Metroid Dread; Psychonauts 2; Ratchet and Clank: Rift aparts;
                    Resident Evil Village</em>
        </p>

        <form method="POST" enctype="multipart/form-data" onsubmit="return validateImageFile()">
            <label for="myfile">Selecciona una imagen:</label>
            <input type="file" id="myfile" name="predict_image" accept="image/*"><br><br>
            <input type="submit" id="inputPredict" value="Predecir"/>
        </form>

        {% if game != "" %}
        <p id="predictedGameData"> 
            {% if img_data != "" %}
            <div id="gameImage">
                <img src="data:image/jpeg;base64,{{ img_data }}">
            </div>
            {% endif %}            
        <br><b>Juego predecido</b>: {{game}}
        <br><b>Probabilidad de acierto</b>: {{score}}</p>
        {% endif %}

    </body>

    <script>
    function validateImageFile() {
        let fileName = document.querySelector('#myfile').value;
        let extension = fileName.substring(fileName.lastIndexOf('.') + 1);
        if (extension != "png" && extension != "jpg") {
          alert("Se debe seleccionar una imagen");
          return false;
        }
      }
    </script>
</html>